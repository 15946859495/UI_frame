{"uid":"ec4a493faea5d458","name":"test_1[雷达名称重复创建互动雷达]","fullName":"core.testcase.test_excel#test_1","historyId":"d0460e43dadf08fd4f8b4bdb40432c80","time":{"start":1683370009317,"stop":1683370019281,"duration":9964},"status":"failed","statusMessage":"AssertionError","statusTrace":"case = {'name': '雷达名称重复创建互动雷达(admin_driver)', 'steps': [(1, '点击导航栏互动雷达选项', 'click', '/html/body/div[1]/div[1]/div[1]/div[2]/d...ing/interactRadar/create\"]', None), (7, '输入雷达标题', 'input', '//input[@placeholder=\"请输入雷达标题\"]', 'zdh测试正常创建互动雷达标题'), ...]}\nrequest = <FixtureRequest for <Function test_1[雷达名称重复创建互动雷达]>>\n\n    @allure.feature(\"Web自动化测试平台\")\n    @allure.story(suite[\"name\"])\n    @pytest.mark.parametrize(\n        \"case\",\n        suite[\"case_list\"],\n        ids=[\n            handle_name(case[\"name\"])[0] for case in suite[\"case_list\"]\n        ],  # 参数化测试的名字\n    )  # 参数化的本质：动态生成用例\n    def test_abc(case, request):\n        logger.info(\"测试用例开始执行\")\n        # print(data)\n    \n        # 如果能够调用夹具，那么就有了浏览\n        # 根据excel内容，动态调用指定的夹具\n        # 1. 拿到用例名称     用例4(admin_driver)\n        # 2. 从用例名称中，解析夹具名称    admin_driver\n        case_name = handle_name(case[\"name\"])[0]\n        fixture_name = handle_name(case[\"name\"])[1]\n    \n        logger.info(f\"解析用例名称:{case_name=}, {fixture_name=}\")\n    \n        driver = request.getfixturevalue(fixture_name)\n        kw = KeyWord(driver)\n        kw.iframe_exit()\n        if \"码\" in case_name:\n            kw.click(\"/html/body/div[1]/div[1]/div[1]/div[2]/div/ul/li[4]/div/span\")\n        kw.refresh()\n        # 根据excel内容进行关键字的调用\n        for step in case[\"steps\"]:\n            name, key, args = handle_step(step)  # 这三个变量，可以再进行处理、修改\n            # 能不能加载csv文件\n            # 能行循环调用 func\n            logger.info(f\"执行关键字{name=}, {key=}, {args=}\")\n    \n            with allure.step(name):  # 在allure显式测试步骤\n                func = getattr(kw, key)  # 通过反射，难道关键字执行函数\n>               func(*args)  # 调用关键字函数\n\ncore\\until\\cases.py:108: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <core.until.kdt.KeyWord object at 0x000001FF7333B8E0>, loc = '//div[@class = \"ivu-notice-notice-content\"]/div', text = '企业雷达名称已存在'\n\n    def assert_text_in(self, loc, text):\n        \"\"\"\n        断言：文本是否在定位元素中\n        :param loc:\n        :param text:\n        :return:\n        \"\"\"\n        self.sleep(0.5)\n        element = self.find_element(loc)\n        js_sentence_light = \"arguments[0].setAttribute('style', arguments[1]);\"\n        js_sentence_args = \"border: 5px solid red;\"\n        self.driver.execute_script(js_sentence_light, element, js_sentence_args)\n        logger.info(f\"assert ({text=}) in ({element.text=})\")\n        allure.attach(self.driver.get_screenshot_as_png(), \"断言截图\")\n>       assert text in element.text\nE       AssertionError\n\ncore\\until\\kdt.py:244: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"admin_driver","time":{"start":1683369979037,"stop":1683369994667,"duration":15630},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false}],"testStage":{"status":"failed","statusMessage":"AssertionError","statusTrace":"case = {'name': '雷达名称重复创建互动雷达(admin_driver)', 'steps': [(1, '点击导航栏互动雷达选项', 'click', '/html/body/div[1]/div[1]/div[1]/div[2]/d...ing/interactRadar/create\"]', None), (7, '输入雷达标题', 'input', '//input[@placeholder=\"请输入雷达标题\"]', 'zdh测试正常创建互动雷达标题'), ...]}\nrequest = <FixtureRequest for <Function test_1[雷达名称重复创建互动雷达]>>\n\n    @allure.feature(\"Web自动化测试平台\")\n    @allure.story(suite[\"name\"])\n    @pytest.mark.parametrize(\n        \"case\",\n        suite[\"case_list\"],\n        ids=[\n            handle_name(case[\"name\"])[0] for case in suite[\"case_list\"]\n        ],  # 参数化测试的名字\n    )  # 参数化的本质：动态生成用例\n    def test_abc(case, request):\n        logger.info(\"测试用例开始执行\")\n        # print(data)\n    \n        # 如果能够调用夹具，那么就有了浏览\n        # 根据excel内容，动态调用指定的夹具\n        # 1. 拿到用例名称     用例4(admin_driver)\n        # 2. 从用例名称中，解析夹具名称    admin_driver\n        case_name = handle_name(case[\"name\"])[0]\n        fixture_name = handle_name(case[\"name\"])[1]\n    \n        logger.info(f\"解析用例名称:{case_name=}, {fixture_name=}\")\n    \n        driver = request.getfixturevalue(fixture_name)\n        kw = KeyWord(driver)\n        kw.iframe_exit()\n        if \"码\" in case_name:\n            kw.click(\"/html/body/div[1]/div[1]/div[1]/div[2]/div/ul/li[4]/div/span\")\n        kw.refresh()\n        # 根据excel内容进行关键字的调用\n        for step in case[\"steps\"]:\n            name, key, args = handle_step(step)  # 这三个变量，可以再进行处理、修改\n            # 能不能加载csv文件\n            # 能行循环调用 func\n            logger.info(f\"执行关键字{name=}, {key=}, {args=}\")\n    \n            with allure.step(name):  # 在allure显式测试步骤\n                func = getattr(kw, key)  # 通过反射，难道关键字执行函数\n>               func(*args)  # 调用关键字函数\n\ncore\\until\\cases.py:108: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <core.until.kdt.KeyWord object at 0x000001FF7333B8E0>, loc = '//div[@class = \"ivu-notice-notice-content\"]/div', text = '企业雷达名称已存在'\n\n    def assert_text_in(self, loc, text):\n        \"\"\"\n        断言：文本是否在定位元素中\n        :param loc:\n        :param text:\n        :return:\n        \"\"\"\n        self.sleep(0.5)\n        element = self.find_element(loc)\n        js_sentence_light = \"arguments[0].setAttribute('style', arguments[1]);\"\n        js_sentence_args = \"border: 5px solid red;\"\n        self.driver.execute_script(js_sentence_light, element, js_sentence_args)\n        logger.info(f\"assert ({text=}) in ({element.text=})\")\n        allure.attach(self.driver.get_screenshot_as_png(), \"断言截图\")\n>       assert text in element.text\nE       AssertionError\n\ncore\\until\\kdt.py:244: AssertionError","steps":[{"name":"点击导航栏互动雷达选项","time":{"start":1683370010075,"stop":1683370010485,"duration":410},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false},{"name":"切换互动雷达主页","time":{"start":1683370010486,"stop":1683370011038,"duration":552},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false},{"name":"点击创建雷达按钮","time":{"start":1683370011038,"stop":1683370011717,"duration":679},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false},{"name":"退出页面","time":{"start":1683370011718,"stop":1683370011723,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false},{"name":"切换创建互动雷达页面","time":{"start":1683370011724,"stop":1683370012090,"duration":366},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false},{"name":"输入雷达标题","time":{"start":1683370012090,"stop":1683370012554,"duration":464},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false},{"name":"输入雷达链接","time":{"start":1683370012554,"stop":1683370013108,"duration":554},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false},{"name":"输入链接标题","time":{"start":1683370013108,"stop":1683370013575,"duration":467},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false},{"name":"输入链接摘要","time":{"start":1683370013575,"stop":1683370014030,"duration":455},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false},{"name":"点击选择封面按钮","time":{"start":1683370014031,"stop":1683370014518,"duration":487},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false},{"name":"退出页面","time":{"start":1683370014519,"stop":1683370014524,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false},{"name":"点击第一张图片","time":{"start":1683370014525,"stop":1683370016659,"duration":2134},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false},{"name":"点击图片右上角复选框","time":{"start":1683370016659,"stop":1683370016791,"duration":132},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false},{"name":"点击选择图片页面确认按钮","time":{"start":1683370016792,"stop":1683370017196,"duration":404},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false},{"name":"切换创建互动雷达页面","time":{"start":1683370017197,"stop":1683370017554,"duration":357},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false},{"name":"点击创建互动雷达页面确认按钮","time":{"start":1683370017555,"stop":1683370017963,"duration":408},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false},{"name":"退出页面","time":{"start":1683370017964,"stop":1683370017967,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false},{"name":"断言提示信息","time":{"start":1683370017968,"stop":1683370019278,"duration":1310},"status":"failed","statusMessage":"AssertionError\n","statusTrace":"  File \"E:\\zdh\\pythonProject\\UI_frame\\core\\until\\cases.py\", line 108, in test_abc\n    func(*args)  # 调用关键字函数\n  File \"E:\\zdh\\pythonProject\\UI_frame\\core\\until\\kdt.py\", line 244, in assert_text_in\n    assert text in element.text\n","steps":[],"attachments":[{"uid":"ead49417ab0dbcba","name":"断言截图","source":"ead49417ab0dbcba.attach","type":"image/png","size":370391}],"parameters":[],"shouldDisplayMessage":true,"attachmentsCount":1,"stepsCount":0,"hasContent":true}],"attachments":[{"uid":"67131a1e33b1a181","name":"log","source":"67131a1e33b1a181.txt","type":"text/plain","size":3581}],"parameters":[],"shouldDisplayMessage":true,"attachmentsCount":2,"stepsCount":18,"hasContent":true},"afterStages":[{"name":"admin_driver::0","time":{"start":1683370611335,"stop":1683370616214,"duration":4879},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false}],"labels":[{"name":"story","value":"互动雷达模块"},{"name":"feature","value":"Web自动化测试平台"},{"name":"parentSuite","value":"core.testcase"},{"name":"suite","value":"test_excel"},{"name":"host","value":"LAPTOP-JPR7EIKK"},{"name":"thread","value":"37632-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"core.testcase.test_excel"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"case","value":"{'name': '雷达名称重复创建互动雷达(admin_driver)', 'steps': [(1, '点击导航栏互动雷达选项', 'click', '/html/body/div[1]/div[1]/div[1]/div[2]/div/ul/li[4]/div/span', None), (2, '切换互动雷达主页', 'iframe_enter', '//iframe[@src=\"/marketing/interactRadar/page\"]', None), (3, '点击创建雷达按钮', 'click', \"//span[contains(text(),'创建雷达')]\", None), (4, '退出页面', 'iframe_exit', None, None), (6, '切换创建互动雷达页面', 'iframe_enter', '//iframe[@src=\"/marketing/interactRadar/create\"]', None), (7, '输入雷达标题', 'input', '//input[@placeholder=\"请输入雷达标题\"]', 'zdh测试正常创建互动雷达标题'), (8, '输入雷达链接', 'input', '//input[@placeholder=\"请输入雷达链接\"]', 'https://mp.weixin.qq.com/s/0pFHRj1NkWfQvFDPnZEFJw'), (9, '输入链接标题', 'input', '//input[@placeholder=\"请输入链接标题\"]', 'zdh测试正常创建互动雷达链接标题'), (10, '输入链接摘要', 'input', '//textarea[@placeholder=\"请输入链接摘要\"]', 'zdh测试正常创建互动雷达链接摘要'), (11, '点击选择封面按钮', 'click', '//button[contains(text(),\"选择封面\")]', None), (12, '退出页面', 'iframe_exit', None, None), (13, '点击第一张图片', 'click', '//div[@class = \"app-grid-flex\"]/div[1]/div/div[1]/img', None), (14, '点击图片右上角复选框', 'click', '//div[@class = \"app-grid-flex\"]/div[1]/div/div[2]/label/span/input', None), (15, '点击选择图片页面确认按钮', 'click', '//span[contains(text(),\"确定\")]', None), (16, '切换创建互动雷达页面', 'iframe_enter', '//iframe[@src=\"/marketing/interactRadar/create\"]', None), (17, '点击创建互动雷达页面确认按钮', 'click', '//span[contains(text(),\"确定\")]', None), (18, '退出页面', 'iframe_exit', None, None), (19, '断言提示信息', 'assert_text_in', '//div[@class = \"ivu-notice-notice-content\"]/div', '企业雷达名称已存在')]}"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"ec4a493faea5d458.json","parameterValues":["{'name': '雷达名称重复创建互动雷达(admin_driver)', 'steps': [(1, '点击导航栏互动雷达选项', 'click', '/html/body/div[1]/div[1]/div[1]/div[2]/div/ul/li[4]/div/span', None), (2, '切换互动雷达主页', 'iframe_enter', '//iframe[@src=\"/marketing/interactRadar/page\"]', None), (3, '点击创建雷达按钮', 'click', \"//span[contains(text(),'创建雷达')]\", None), (4, '退出页面', 'iframe_exit', None, None), (6, '切换创建互动雷达页面', 'iframe_enter', '//iframe[@src=\"/marketing/interactRadar/create\"]', None), (7, '输入雷达标题', 'input', '//input[@placeholder=\"请输入雷达标题\"]', 'zdh测试正常创建互动雷达标题'), (8, '输入雷达链接', 'input', '//input[@placeholder=\"请输入雷达链接\"]', 'https://mp.weixin.qq.com/s/0pFHRj1NkWfQvFDPnZEFJw'), (9, '输入链接标题', 'input', '//input[@placeholder=\"请输入链接标题\"]', 'zdh测试正常创建互动雷达链接标题'), (10, '输入链接摘要', 'input', '//textarea[@placeholder=\"请输入链接摘要\"]', 'zdh测试正常创建互动雷达链接摘要'), (11, '点击选择封面按钮', 'click', '//button[contains(text(),\"选择封面\")]', None), (12, '退出页面', 'iframe_exit', None, None), (13, '点击第一张图片', 'click', '//div[@class = \"app-grid-flex\"]/div[1]/div/div[1]/img', None), (14, '点击图片右上角复选框', 'click', '//div[@class = \"app-grid-flex\"]/div[1]/div/div[2]/label/span/input', None), (15, '点击选择图片页面确认按钮', 'click', '//span[contains(text(),\"确定\")]', None), (16, '切换创建互动雷达页面', 'iframe_enter', '//iframe[@src=\"/marketing/interactRadar/create\"]', None), (17, '点击创建互动雷达页面确认按钮', 'click', '//span[contains(text(),\"确定\")]', None), (18, '退出页面', 'iframe_exit', None, None), (19, '断言提示信息', 'assert_text_in', '//div[@class = \"ivu-notice-notice-content\"]/div', '企业雷达名称已存在')]}"]}