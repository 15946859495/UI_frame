{"name": "test_9[用户信息主页输入不存在信息查询hq]", "status": "failed", "statusDetails": {"message": "AssertionError", "trace": "case = {'name': '用户信息主页输入不存在信息查询hq(admin_driver)', 'steps': [(1, '点击导航栏客户联系选项', 'click', \"//span[contains(text(),'客户联系')]\", N..., '点击查询按钮', 'click', '//span[text()=\"查询\"]', None), (6, '断言提示消息', 'assert_text', '//div[3]/table/tbody/tr/td', '暂无数据')]}\nrequest = <FixtureRequest for <Function test_9[用户信息主页输入不存在信息查询hq]>>\n\n    @allure.feature(\"Web自动化测试平台\")\n    @allure.story(suite[\"name\"])\n    @pytest.mark.parametrize(\n        \"case\",\n        suite[\"case_list\"],\n        ids=[\n            handle_name(case[\"name\"])[0] for case in suite[\"case_list\"]\n        ],  # 参数化测试的名字\n    )  # 参数化的本质：动态生成用例\n    def test_abc(case, request):\n        logger.info(\"测试用例开始执行\")\n        # print(data)\n    \n        # 如果能够调用夹具，那么就有了浏览\n        # 根据excel内容，动态调用指定的夹具\n        # 1. 拿到用例名称     用例4(admin_driver)\n        # 2. 从用例名称中，解析夹具名称    admin_driver\n        case_name = handle_name(case[\"name\"])[0]\n        fixture_name = handle_name(case[\"name\"])[1]\n    \n        logger.info(f\"解析用例名称:{case_name=}, {fixture_name=}\")\n    \n        driver = request.getfixturevalue(fixture_name)\n        kw = KeyWord(driver)\n        kw.iframe_exit()\n        if \"hq\" in case_name:\n            kw.click(\"/html/body/div[1]/div[1]/div[1]/div[2]/div/ul/li[4]/div/span\")\n        kw.refresh()\n        # 根据excel内容进行关键字的调用\n        for step in case[\"steps\"]:\n            name, key, args = handle_step(step)  # 这三个变量，可以再进行处理、修改\n            # 能不能加载csv文件\n            # 能行循环调用 func\n            logger.info(f\"执行关键字{name=}, {key=}, {args=}\")\n    \n            with allure.step(name):  # 在allure显式测试步骤\n                try:\n                    func = getattr(kw, key)  # 通过反射，难道关键字执行函数\n                    func(*args)  # 调用关键字函数\n                except Exception as error:\n                    allure.attach(driver.get_screenshot_as_png(), name) #截图\n>                   raise error\n\ncore\\until\\cases.py:111: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\ncore\\until\\cases.py:108: in test_abc\n    func(*args)  # 调用关键字函数\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <core.until.kdt.KeyWord object at 0x0000021E793A2F20>, loc = '//div[3]/table/tbody/tr/td', text = '暂无数据'\n\n    def assert_text(self, loc, text):\n        \"\"\"\n        断言：页面中的文本，符合预期\n        :param loc:\n        :param text:\n        :return:\n        \"\"\"\n        self.sleep(0.5)\n        element = self.find_element(loc)\n        js_sentence_light = \"arguments[0].setAttribute('style', arguments[1]);\"\n        js_sentence_args = \"border: 5px solid red;\"\n        self.driver.execute_script(js_sentence_light, element, js_sentence_args)\n        logger.info(f\"assert ({text=}) == ({element.text=})\")\n>       assert text == element.text\nE       AssertionError\n\ncore\\until\\kdt.py:227: AssertionError"}, "steps": [{"name": "点击导航栏客户联系选项", "status": "passed", "start": 1685497579576, "stop": 1685497580454}, {"name": "点击导航栏用户信息选项", "status": "passed", "start": 1685497580455, "stop": 1685497580946}, {"name": "切换用户信息主页页面", "status": "passed", "start": 1685497580947, "stop": 1685497581842}, {"name": "输入用户名", "status": "passed", "start": 1685497581843, "stop": 1685497582288}, {"name": "点击查询按钮", "status": "passed", "start": 1685497582289, "stop": 1685497582792}, {"name": "断言提示消息", "status": "failed", "statusDetails": {"message": "AssertionError\n", "trace": "  File \"E:\\zdh\\pythonProject\\UI_frame\\core\\until\\cases.py\", line 111, in test_abc\n    raise error\n  File \"E:\\zdh\\pythonProject\\UI_frame\\core\\until\\cases.py\", line 108, in test_abc\n    func(*args)  # 调用关键字函数\n  File \"E:\\zdh\\pythonProject\\UI_frame\\core\\until\\kdt.py\", line 227, in assert_text\n    assert text == element.text\n"}, "attachments": [{"name": "断言提示消息", "source": "40d55d39-9007-41f8-8885-4efaf6843d81-attachment.attach"}], "start": 1685497582793, "stop": 1685497584118}], "attachments": [{"name": "log", "source": "a05bec6a-771a-4e84-b8a1-a5b3f40d9744-attachment.txt", "type": "text/plain"}], "parameters": [{"name": "case", "value": "{'name': '用户信息主页输入不存在信息查询hq(admin_driver)', 'steps': [(1, '点击导航栏客户联系选项', 'click', \"//span[contains(text(),'客户联系')]\", None), (2, '点击导航栏用户信息选项', 'click', \"//span[contains(text(),'用户信息')]\", None), (3, '切换用户信息主页页面', 'iframe_enter', '//iframe[@src=\"/im/relation/userInfo\"]', None), (4, '输入用户名', 'input', '//input[@placeholder=\"请输入用户名\"]', 'wf1'), (5, '点击查询按钮', 'click', '//span[text()=\"查询\"]', None), (6, '断言提示消息', 'assert_text', '//div[3]/table/tbody/tr/td', '暂无数据')]}"}], "start": 1685497578367, "stop": 1685497584121, "uuid": "1f142c3e-c8de-408e-9270-9c052cc7fbee", "historyId": "3db46fee68fd727f4f0658afb44e4c02", "testCaseId": "74241d24d13b6ccb3a1680666c35a20b", "fullName": "core.testcase.test_excel#test_9", "labels": [{"name": "feature", "value": "Web自动化测试平台"}, {"name": "story", "value": "用户信息"}, {"name": "parentSuite", "value": "core.testcase"}, {"name": "suite", "value": "test_excel"}, {"name": "host", "value": "LAPTOP-JPR7EIKK"}, {"name": "thread", "value": "99612-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "core.testcase.test_excel"}]}