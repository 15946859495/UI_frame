{"name": "test_5[名称重复创建活动码]", "status": "failed", "statusDetails": {"message": "AssertionError", "trace": "case = {'name': '名称重复创建活动码(admin_driver)', 'steps': [(1, '点击导航栏渠道活动码工具选项', 'click', \"//span[contains(text(),'渠道活码工具')]\", None...ne), (5, '点击创建活动码按钮', 'click', \"//span[contains(text(),'创建活动码')]\", None), (6, '退出页面', 'iframe_exit', None, None), ...]}\nrequest = <FixtureRequest for <Function test_5[名称重复创建活动码]>>\n\n    @allure.feature(\"Web自动化测试平台\")\n    @allure.story(suite[\"name\"])\n    @pytest.mark.parametrize(\n        \"case\",\n        suite[\"case_list\"],\n        ids=[\n            handle_name(case[\"name\"])[0] for case in suite[\"case_list\"]\n        ],  # 参数化测试的名字\n    )  # 参数化的本质：动态生成用例\n    def test_abc(case, request):\n        logger.info(\"测试用例开始执行\")\n        # print(data)\n    \n        # 如果能够调用夹具，那么就有了浏览\n        # 根据excel内容，动态调用指定的夹具\n        # 1. 拿到用例名称     用例4(admin_driver)\n        # 2. 从用例名称中，解析夹具名称    admin_driver\n        case_name = handle_name(case[\"name\"])[0]\n        fixture_name = handle_name(case[\"name\"])[1]\n    \n        logger.info(f\"解析用例名称:{case_name=}, {fixture_name=}\")\n    \n        driver = request.getfixturevalue(fixture_name)\n        kw = KeyWord(driver)\n        kw.iframe_exit()\n        if \"码\" in case_name:\n            kw.click(\"/html/body/div[1]/div[1]/div[1]/div[2]/div/ul/li[4]/div/span\")\n        kw.refresh()\n        # 根据excel内容进行关键字的调用\n        for step in case[\"steps\"]:\n            name, key, args = handle_step(step)  # 这三个变量，可以再进行处理、修改\n            # 能不能加载csv文件\n            # 能行循环调用 func\n            logger.info(f\"执行关键字{name=}, {key=}, {args=}\")\n    \n            with allure.step(name):  # 在allure显式测试步骤\n                func = getattr(kw, key)  # 通过反射，难道关键字执行函数\n>               func(*args)  # 调用关键字函数\n\ncore\\until\\cases.py:108: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <core.until.kdt.KeyWord object at 0x000001D0510E54E0>, loc = \"//div[@class='ivu-notice-title']\", text = '活动码名称重复'\n\n    def assert_text_in(self, loc, text):\n        \"\"\"\n        断言：文本是否在定位元素中\n        :param loc:\n        :param text:\n        :return:\n        \"\"\"\n        self.sleep(0.5)\n        element = self.find_element(loc)\n        js_sentence_light = \"arguments[0].setAttribute('style', arguments[1]);\"\n        js_sentence_args = \"border: 5px solid red;\"\n        self.driver.execute_script(js_sentence_light, element, js_sentence_args)\n        logger.info(f\"assert ({text=}) in ({element.text=})\")\n        allure.attach(self.driver.get_screenshot_as_png(), \"断言截图\")\n>       assert text in element.text\nE       AssertionError\n\ncore\\until\\kdt.py:244: AssertionError"}, "steps": [{"name": "点击导航栏渠道活动码工具选项", "status": "passed", "start": 1683600998898, "stop": 1683600999794}, {"name": "点击导航栏活动码选项", "status": "passed", "start": 1683600999795, "stop": 1683601000284}, {"name": "点击导航栏活动码选项", "status": "passed", "start": 1683601000284, "stop": 1683601000710}, {"name": "切换活动码主页", "status": "passed", "start": 1683601000711, "stop": 1683601001100}, {"name": "点击创建活动码按钮", "status": "passed", "start": 1683601001101, "stop": 1683601002610}, {"name": "退出页面", "status": "passed", "start": 1683601002611, "stop": 1683601002620}, {"name": "切换创建活动码页面", "status": "passed", "start": 1683601002621, "stop": 1683601003573}, {"name": "输入活动名称", "status": "passed", "start": 1683601003574, "stop": 1683601005389}, {"name": "点击关联主理按钮", "status": "passed", "start": 1683601005391, "stop": 1683601005992}, {"name": "控件输入主理人名称", "status": "passed", "start": 1683601005992, "stop": 1683601006508}, {"name": "控件输入框回车", "status": "passed", "start": 1683601006508, "stop": 1683601007012}, {"name": "勾选全部主理人", "status": "passed", "start": 1683601007015, "stop": 1683601007679}, {"name": "点击控件确认按钮", "status": "passed", "start": 1683601007680, "stop": 1683601008292}, {"name": "输入框输入渠道名称", "status": "passed", "start": 1683601008292, "stop": 1683601008896}, {"name": "选择渠道", "status": "passed", "start": 1683601008896, "stop": 1683601009453}, {"name": "输入用户标签", "status": "passed", "start": 1683601009453, "stop": 1683601010073}, {"name": "选择用户标签", "status": "passed", "start": 1683601010074, "stop": 1683601010815}, {"name": "输入文本欢迎语", "status": "passed", "start": 1683601010816, "stop": 1683601011461}, {"name": "点击保存并生成活码按钮", "status": "passed", "start": 1683601011462, "stop": 1683601012011}, {"name": "点击保存并生成活码按钮", "status": "passed", "start": 1683601012013, "stop": 1683601012469}, {"name": "退出页面", "status": "passed", "start": 1683601012470, "stop": 1683601012484}, {"name": "断言提示信息", "status": "failed", "statusDetails": {"message": "AssertionError\n", "trace": "  File \"E:\\zdh\\pythonProject\\UI_frame\\core\\until\\cases.py\", line 108, in test_abc\n    func(*args)  # 调用关键字函数\n  File \"E:\\zdh\\pythonProject\\UI_frame\\core\\until\\kdt.py\", line 244, in assert_text_in\n    assert text in element.text\n"}, "attachments": [{"name": "断言截图", "source": "24d2d43c-0b44-43a9-9091-c880d8f47ad9-attachment.attach"}], "start": 1683601012488, "stop": 1683601016584}], "attachments": [{"name": "log", "source": "ec77e3a2-4532-4e1b-b4be-1c1907cd6f14-attachment.txt", "type": "text/plain"}], "parameters": [{"name": "case", "value": "{'name': '名称重复创建活动码(admin_driver)', 'steps': [(1, '点击导航栏渠道活动码工具选项', 'click', \"//span[contains(text(),'渠道活码工具')]\", None), (2, '点击导航栏活动码选项', 'click', \"//span[contains(text(),'活动码')]\", None), (3, '点击导航栏活动码选项', 'click', '/html/body/div[1]/div[1]/div[1]/div[2]/div/ul/li[3]/ul/li[3]/ul/li[3]/div/span', None), (4, '切换活动码主页', 'iframe_enter', '//iframe[@src=\"/marketing/activityCode/page\"]', None), (5, '点击创建活动码按钮', 'click', \"//span[contains(text(),'创建活动码')]\", None), (6, '退出页面', 'iframe_exit', None, None), (7, '切换创建活动码页面', 'iframe_enter', '//iframe[@src=\"/marketing/activityCode/create\"]', None), (8, '输入活动名称', 'input', \"//label[contains(text(),'活动名称')]/../div/div[1]/input\", 'zdh测试正常创建活动码名称'), (9, '点击关联主理按钮', 'click', \"//span[contains(text(),'选择关联主理')]\", None), (10, '控件输入主理人名称', 'input', '//input[@placeholder = \"搜索门店/主理人\"]', 'U2店长'), (11, '控件输入框回车', 'keyboard_enter', '//input[@placeholder = \"搜索门店/主理人\"]', None), (12, '勾选全部主理人', 'click', \"//span[contains(text(),'全部主理')]/../label/span/input\", None), (13, '点击控件确认按钮', 'click', \"//span[contains(text(),'确定')]\", None), (14, '输入框输入渠道名称', 'input', \"//label[contains(text(),'选择渠道')]/../div/div/div[1]/div[1]/input\", 'AAA·1 / BBB / CCC'), (15, '选择渠道', 'click', \"//span[contains(text(),'AAA·1 / BBB / CCC')]\", 'force=True'), (16, '输入用户标签', 'input', '/html/body/div[1]/div/div/div/div/form/div[5]/div/div/div[1]/div/input', '测试人群包'), (17, '选择用户标签', 'click', \"//li[contains(text(),'测试人群包')]\", None), (18, '输入文本欢迎语', 'input', \"//textarea[@maxlength = '1000']\", 'zdh测试活动码欢迎语'), (19, '点击保存并生成活码按钮', 'click', \"//div[@class='buttonContainer']/button[2]/span\", None), (20, '点击保存并生成活码按钮', 'click', \"//div[@class='buttonContainer']/button[2]/span\", None), (21, '退出页面', 'iframe_exit', None, None), (22, '断言提示信息', 'assert_text_in', \"//div[@class='ivu-notice-title']\", '活动码名称重复')]}"}], "start": 1683600997589, "stop": 1683601016594, "uuid": "3d63e680-124f-48a9-8db1-ce20a090ca6c", "historyId": "153265e5d83a0a4a55ac7f506eeef65a", "testCaseId": "f53a8472d04284394d205afd84c3d54b", "fullName": "core.testcase.test_excel#test_5", "labels": [{"name": "story", "value": "活动码"}, {"name": "feature", "value": "Web自动化测试平台"}, {"name": "parentSuite", "value": "core.testcase"}, {"name": "suite", "value": "test_excel"}, {"name": "host", "value": "LAPTOP-JPR7EIKK"}, {"name": "thread", "value": "43676-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "core.testcase.test_excel"}]}